<!DOCTYPE html>
<html>
	<head>
		<title> Infprog oblig 3 del2 </title>
		<meta charset ="utf-8">
		
		<script>
			window.onload = oppstart;
			function oppstart(){
				document.getElementById("getcheckvalue").onkeypress = checkanswer;
			}
			
			var life = 0
			
			
			wordarray = ["Rock", "Metal", "Unicorn", "Python", 
						 "Jawbreaker", "Microwave", "Jigsaw", "Dungeon",
						 "Pandemonium", "Gauntlet", "Shadowgate", "Morrowind",
						 "Banished", "Crossfire", "Hellgate", "Redemption",
						 "Ghostbuster", "Bittersweet", "Ganondorf", "Dragonborn"
						]
			var corevalue = wordarray[Math.floor(Math.random()*19)]
			
			function checkanswer (){
				
				var checkvalue = document.getElementById("getcheckvalue").value.split("")
				var testarray = corevalue.split("")
				
				var resultarray = []
				var feedback = document.getElementById("getcheckvalue")
			
			// ------------- INITIAL LIFE VALUE
				if (corevalue.length > 6){
					life = 10
				}
					else {life = 8}
			
			// ------------- ANSWER CHECK AND LIFE REDUCTION
				for (i= corevalue.length; i >= 0; i--){
					resultarray.push(" ")
					a = testarray[i]
					if (testarray.indexOf(checkvalue[i]) != -1){
						resultarray[i] = checkvalue[i]
						testarray.splice(i, a)
					}
						else {life -= 1}
		
				}
				document.getElementById("showfeedback").innerHTML = resultarray;
			}
		</script>
	</head>
	
	<body>
		<h2> Tobias Hansen Informatikk 2015, infprog oblig3 del2 </h2>
		<h3> Oppgave 3, Hangman </h3>
		
		<p id ="showfeedback"> </p>
		<input type="text" id="getcheckvalue" />
		
	</body>
</html>